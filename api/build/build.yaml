openapi: 3.0.0
info:
  title: Issue and Grievance Management (IGM) for ONDC
  description: ONDC Issue and Grievance Management (IGM)  API Specification
  version: 2.0.0
security:
  - SubscriberAuth: []
paths:
  /issue:
    post:
      tags:
        - Complaint lifecycle management
      description: |
        ###  Operation Description 
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: '#/components/schemas/Context'
                message:
                  type: object
                  properties:
                    issue:
                      $ref: '#/components/schemas/Issue'
              required:
                - context
                - message
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: '#/components/schemas/Ack'
                    required:
                      - ack
                  error:
                    $ref: '#/components/schemas/Error'
                required:
                  - message
  /on_issue:
    post:
      tags:
        - Complaint lifecycle management
      description: Send the issue resolution details object
      requestBody:
        description: Seller confirms order
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: '#/components/schemas/Context'
                message:
                  type: object
                  properties:
                    issue:
                      $ref: '#/components/schemas/Issue'
                  required:
                    - issue
                error:
                  $ref: '#/components/schemas/Error'
              required:
                - context
                - message
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: '#/components/schemas/Ack'
                    required:
                      - ack
                  error:
                    $ref: '#/components/schemas/Error'
                required:
                  - message
components:
  securitySchemes:
    SubscriberAuth:
      type: apiKey
      in: header
      name: Authorization
      description: >-
        Signature of message body using Collector or Receiver subscriber's
        signing public key. <br/><br/>Format:<br/><br/><code>Authorization :
        Signature
        keyId="{subscriber_id}|{unique_key_id}|{algorithm}",algorithm="ed25519",created="1606970629",expires="1607030629",headers="(created)
        (expires) digest",signature="Base64(signing string)"</code>
  schemas:
    Ack:
      description: Describes the ACK response
      type: object
      properties:
        status:
          type: string
          description: >-
            Describe the status of the ACK response. If schema validation
            passes, status is ACK else it is NACK
          enum:
            - ACK
            - NACK
    Issue:
      description: >
        *  Describes the Issue/complaint raised for a particular order,
        transaction or fulfillment or item for which an issue is faced by the
        buyer.

        * It also describes the Issue/complaint raised by the network
        participants to its conuter party or casacaded counterparty apps as and
        when applicable

        * Describes the issue when it is escalated as a Grievance or a Dispute

        *  supplementary Information  Describes and details evidence of the
        information about the issue . When the complainant or respondent seeks
        an issue update the addtional information about the update are populated
        as part of the supplementary information. 
          the supplementary information section , details information including but not limited to any of the following or more: 
            * comments from the complaintant/ respondent for seeking more information about the issue
            * comments from the complaintant/ respondent providing the update on the issue with more information on the issue 
            * Picutres providing further information about the issue
            * documents attachment/links providing further information about the issue etc
      type: object
      properties:
        id:
          description: >
            * Network issue identifier is an unique number assigned to any
            complaint by the interfacing application at the source.


            * **During the life cycle of a complaint, this number will not
            change and will be communicated to counterparty application.**


            * Any subsequent issues created with the interfacing,counterpary or
            casacaded counter party apps are responsible for providing the
            correalted and relevant network-issue-id which helps all this
            inteacting systems to traverse back to the main issue.
          type: string
        expected_response_time:
          $ref: '#/components/schemas/Time'
        expected_resolution_time:
          $ref: '#/components/schemas/Time'
        status:
          description: |
            ### Statues
              1. Open : indicating that the issue is opened and further action is yet to be taken on the issue
              2. Closed : indicating that the issue is closed and no further action/update/info/resolution action/status change are expected/accepted on this issue. 
          type: string
          enum:
            - OPEN
            - PROCESSING
            - RESOLVED
            - CLOSED
        level:
          description: indicating the issue and grievance level
          type: string
          enum:
            - ISSUE
            - GRIEVANCE
        created_at:
          description: timestamp for the creation of the issue
          type: string
          format: date-time
        updated_at:
          description: timestamp for the capturing the time an issue was last updated
          type: string
          format: date-time
        source_id:
          description: Describesabout the source id
          type: string
        complainant_id:
          description: Describe about the complainant_id
          type: string
        respondent_ids:
          description: Describes about the respondent_id
          type: array
          items:
            type: string
        resolver_ids:
          description: Describes about the respondent_id
          type: array
          items:
            type: string
        last_action_id:
          description: Describes the last action id
          type: string
        actions:
          description: state the description of the action
          type: array
          items:
            $ref: '#/components/schemas/Action'
        descriptor:
          $ref: '#/components/schemas/Descriptor'
        actors:
          description: state the description of the actor that are involve
          type: array
          items:
            $ref: '#/components/schemas/Actor_info'
        resolutions:
          type: array
          items:
            $ref: '#/components/schemas/Resolution'
        refs:
          description: state the reference of the oreference
          type: array
          items:
            $ref: '#/components/schemas/Refs'
        tags:
          type: array
          items:
            $ref: '#/components/schemas/TagGroup'
    Action:
      type: object
      properties:
        id:
          description: Describes id of the action
          type: string
        ref_id:
          description: Describes the reference id
          type: string
        ref_type:
          description: Describes the refence type
          type: string
        descriptor:
          allOf:
            - $ref: '#/components/schemas/Descriptor'
            - type: object
              properties:
                code:
                  type: string
                  enum:
                    - OPEN
                    - PROCESSING
                    - CLOSED
                    - CASCADED
                    - INFO_REQUESTED
                    - INFO_PROCESSING
                    - INFO_PROVIDED
                    - INFO_NOT_AVAILABLE
                    - RESOLUTION_PROPOSED
                    - RESOLUTION_FORWARDED
                    - RESOLUTION_PROCESSING
                    - RESOLUTION_ACCEPTED
                    - RESOLUTION_REJECTED
                    - RESOLVED
        updated_at:
          description: >-
            timestamp for the capturing the time an issue status was last
            updated
          type: string
          format: date-time
        action_by:
          description: Describes the action_by
          type: string
        tags:
          $ref: '#/components/schemas/TagGroup'
    Actor_info:
      type: object
      properties:
        id:
          description: Describes id of the actors that are thier
          type: string
        type:
          description: Describes the type of actor
          type: string
        info:
          description: Describes the information about actor
          type: object
          properties:
            person:
              $ref: '#/components/schemas/Person'
            contact:
              $ref: '#/components/schemas/Contact'
            org:
              type: string
    Additional_desc:
      type: object
      properties:
        url:
          type: string
        content_type:
          type: string
          enum:
            - text/plain
            - text/html
            - application/json
    Contact:
      type: object
      properties:
        phone:
          type: string
        email:
          type: string
    Credential:
      description: Describes a credential of an entity - Person or Organization
      type: object
      properties:
        id:
          type: string
        type:
          type: string
          default: VerifiableCredential
        url:
          description: URL of the credential
          type: string
          format: uri
    Descriptor:
      description: Physical description of something.
      type: object
      properties:
        name:
          type: string
        code:
          type: string
        short_desc:
          type: string
        long_desc:
          type: string
        additional_desc:
          $ref: '#/components/schemas/Additional_desc'
        media:
          type: array
          items:
            $ref: '#/components/schemas/MediaFile'
        images:
          type: array
          items:
            $ref: '#/components/schemas/Image'
    Duration:
      description: Describes duration as per ISO8601 format
      type: string
    Image:
      description: Describes an image
      type: object
      properties:
        url:
          description: URL to the image. This can be a data url or an remote url
          type: string
          format: uri
        size_type:
          description: >-
            The size of the image. The network policy can define the default
            dimensions of each type
          type: string
          enum:
            - xs
            - sm
            - md
            - lg
            - xl
            - custom
        width:
          description: Width of the image in pixels
          type: string
        height:
          description: Height of the image in pixels
          type: string
    MediaFile:
      description: This object contains a url to a media file.
      type: object
      properties:
        mimetype:
          description: >-
            indicates the nature and format of the document, file, or assortment
            of bytes. MIME types are defined and standardized in IETF's RFC 6838
          type: string
        url:
          description: The URL of the file
          type: string
          format: uri
        signature:
          description: The digital signature of the file signed by the sender
          type: string
        dsa:
          description: The signing algorithm used by the sender
          type: string
        time:
          $ref: '#/components/schemas/Time'
    Person:
      description: Describes a person as any individual
      type: object
      properties:
        id:
          type: string
          description: Describes the identity of the person
        url:
          description: Profile url of the person
          type: string
          format: uri
        name:
          description: the name of the person
          type: string
        image:
          $ref: '#/components/schemas/Image'
        age:
          description: Age of the person
          allOf:
            - $ref: '#/components/schemas/Duration'
        dob:
          description: Date of birth of the person
          type: string
          format: date
        gender:
          type: string
          description: >-
            Gender of something, typically a Person, but possibly also fictional
            characters, animals, etc. While Male and Female may be used, text
            strings are also acceptable for people who do not identify as a
            binary gender.Allowed values for this field can be published in the
            network policy
        creds:
          type: array
          items:
            $ref: '#/components/schemas/Credential'
        languages:
          type: array
          items:
            description: Describes a language known to the person.
            type: object
            properties:
              code:
                type: string
              name:
                type: string
        skills:
          type: array
          items:
            description: Describes a skill of the person.
            type: object
            properties:
              code:
                type: string
              name:
                type: string
        tags:
          type: array
          items:
            $ref: '#/components/schemas/TagGroup'
    Schedule:
      description: >-
        Describes schedule as a repeating time period used to describe a
        regularly recurring event. At a minimum a schedule will specify
        frequency which describes the interval between occurrences of the event.
        Additional information can be provided to specify the schedule more
        precisely. This includes identifying the timestamps(s) of when the event
        will take place. Schedules may also have holidays to exclude a specific
        day from the schedule.<br>This has properties like frequency, holidays,
        times
      type: object
      properties:
        frequency:
          $ref: '#/components/schemas/Duration'
        holidays:
          type: array
          items:
            type: string
            format: date-time
        times:
          type: array
          items:
            type: string
            format: date-time
    Time:
      description: >-
        Describes time in its various forms. It can be a single point in time;
        duration; or a structured timetable of operations
      type: object
      properties:
        label:
          type: string
        timestamp:
          type: string
          format: date-time
        duration:
          $ref: '#/components/schemas/Duration'
        range:
          type: object
          properties:
            start:
              type: string
              format: date-time
            end:
              type: string
              format: date-time
        days:
          type: string
          description: comma separated values representing days of the week
        schedule:
          $ref: '#/components/schemas/Schedule'
    Context:
      description: Describes a beckn message context
      type: object
      properties:
        domain:
          type: string
        country:
          type: string
        city:
          type: string
        location:
          type: object
          properties:
            city:
              type: object
              properties:
                code:
                  type: string
                  description: defines code for city
            country:
              type: object
              properties:
                code:
                  type: string
                  description: defines code for city
        action:
          type: string
          description: >-
            Defines the Beckn API call. Any actions other than the enumerated
            actions are not supported by Beckn Protocol
        core_version:
          type: string
          description: Version of Beckn core API specification being used
        version:
          type: string
          description: Version of Beckn core API specification being used
        bap_id:
          type: string
          description: >-
            Unique id of the BAP. By default it is the fully qualified domain
            name of the BAP
        bap_uri:
          type: string
          format: uri
          description: >-
            URI of the BAP for accepting callbacks. Must have the same domain
            name as the bap_id
        bpp_id:
          type: string
          description: >-
            Unique id of the BPP. By default it is the fully qualified domain
            name of the BPP
        bpp_uri:
          type: string
          format: uri
          description: URI of the BPP. Must have the same domain name as the bap_id
        transaction_id:
          type: string
          description: >-
            This is a unique value which persists across all API calls from
            search through confirm
        message_id:
          type: string
          description: >-
            This is a unique value which persists during a request / callback
            cycle
        timestamp:
          type: string
          format: date-time
          description: Time of request generation in RFC3339 format
        key:
          type: string
          description: The encryption public key of the sender
        ttl:
          type: string
          description: >-
            The duration in ISO8601 format after timestamp for which this
            message holds valid
      required:
        - domain
        - action
        - transaction_id
        - message_id
        - bap_id
        - bap_uri
        - timestamp
    Error:
      description: Describes an error object
      type: object
      properties:
        type:
          type: string
          enum:
            - CONTEXT-ERROR
            - CORE-ERROR
            - DOMAIN-ERROR
            - POLICY-ERROR
            - JSON-SCHEMA-ERROR
    TagGroup:
      description: >-
        A collection of tag objects with group level attributes. For detailed
        documentation on the Tags and Tag Groups schema go to
        https://github.com/beckn/protocol-specifications/discussions/316
      type: object
      properties:
        display:
          description: >-
            Indicates the display properties of the tag group. If display is set
            to false, then the group will not be displayed. If it is set to
            true, it should be displayed. However, group-level display
            properties can be overriden by individual tag-level display
            property. As this schema is purely for catalog display purposes, it
            is not recommended to send this value during search.
          type: boolean
          default: true
        descriptor:
          description: >-
            Description of the TagGroup, can be used to store detailed
            information.
          allOf:
            - $ref: '#/components/schemas/Descriptor'
        list:
          description: >-
            An array of Tag objects listed under this group. This property can
            be set by BAPs during search to narrow the `search` and achieve more
            relevant results. When received during `on_search`, BAPs must render
            this list under the heading described by the `name` property of this
            schema.
          type: array
          items:
            $ref: '#/components/schemas/Tag'
    Tag:
      description: >-
        Describes a tag. This is used to contain extended metadata. This object
        can be added as a property to any schema to describe extended
        attributes. For BAPs, tags can be sent during search to optimize and
        filter search results. BPPs can use tags to index their catalog to allow
        better search functionality. Tags are sent by the BPP as part of the
        catalog response in the `on_search` callback. Tags are also meant for
        display purposes. Upon receiving a tag, BAPs are meant to render them as
        name-value pairs. This is particularly useful when rendering tabular
        information about a product or service.
      type: object
      properties:
        descriptor:
          description: Description of the Tag, can be used to store detailed information.
          allOf:
            - $ref: '#/components/schemas/Descriptor'
        value:
          description: >-
            The value of the tag. This set by the BPP and rendered as-is by the
            BAP.
          type: string
        display:
          description: >-
            This value indicates if the tag is intended for display purposes. If
            set to `true`, then this tag must be displayed. If it is set to
            `false`, it should not be displayed. This value can override the
            group display value.
          type: boolean
    Resolution:
      type: object
      properties:
        id:
          description: Describes id of the action
          type: string
        ref_id:
          description: Describes the reference id
          type: string
        ref_type:
          description: Describes the refence type
          type: string
        descriptor:
          allOf:
            - $ref: '#/components/schemas/Descriptor'
            - type: object
              properties:
                code:
                  type: string
                  enum:
                    - REFUND
                    - REPLACEMENT
                    - CBIL_CORRECTION
                    - ENACH_CANCEL
        updated_at:
          description: >-
            timestamp for the capturing the time an issue status was last
            updated
          type: string
          format: date-time
        proposed_by:
          description: Describes the action_by
          type: string
        tags:
          $ref: '#/components/schemas/TagGroup'
    Refs:
      type: object
      properties:
        ref_id:
          description: tells abot ref id
          type: string
        ref_type:
          description: tells abot ref type
          type: string
          enum:
            - ORDER
            - ITEM
            - FULFILMENT
            - TRANSACTION_ID
            - MESSAGE_ID
            - PROVIDER
            - ISSUE
            - ACTION
            - PAYMENT
            - CONSUMER
            - AGENT
        tags:
          description: tells abot ref details
          type: array
          items:
            $ref: '#/components/schemas/TagGroup'
servers:
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/ONDC/ONDC-Protocol-IGM/1.0.0
x-flows:
  - summary: Flow1 -  Buyer raises a complaint for item category
    details:
      - description: detailed flow
        mermaid: |-
          sequenceDiagram
            title  Buyer raising a complaint for an item
            participant Buyer App
            participant Seller App

            Buyer App->>Seller App: Raise Complaint (issue)
            Seller App->>Buyer App: Processing Action (on_issue)
            Seller App->>Buyer App: Request More Information (on_issue)
            Buyer App->>Seller App: Provide Info (issue)
            Seller App->>Buyer App: Processing Action (on_issue)
            Seller App->>Buyer App: Request More Information (Tag Missing Info) (on_issue)
            Buyer App->>Seller App: Provide Info (issue)
            Seller App->>Buyer App: Processing Action (on_issue)
            Seller App->>Buyer App: Provide Resolution Options (on_issue)
            Buyer App->>Seller App: Accept Resolution (issue)
            Seller App->>Buyer App: Send Resolution Object (on_issue)
            Buyer App->>Seller App: Close Complaint (issue)
    references: if any
    steps:
      - summary: >-
          Buyer raises a complaint for item category; buyer app creates the
          issue call
        api: issue
        details:
          - description: issue
            mermaid: |-
              sequenceDiagram
                title  Buyer raising a complaint for an item
                participant Buyer App
                participant Seller App
                Buyer App->>Seller App: Raise Complaint (issue)
                Seller App->>Buyer App: ACK
               
            reference: if any
        example:
          value: &ref_0
            context:
              domain: ONDC:RET10
              location:
                country:
                  code: IND
                city:
                  code: '*'
              action: issue
              core_version: 2.0.0
              bap_id: buyerapp.com
              bap_uri: https://buyerapp.com/ondc
              bpp_id: sellerapp.com
              bpp_uri: https://sellerapp.com/ondc
              transaction_id: T1
              message_id: M1
              timestamp: '2023-01-15T10:00:00.469Z'
              ttl: PT30S
            message:
              issue:
                id: ISSUE-1
                status: OPEN
                level: ISSUE
                created_at: '2023-01-15T10:00:00.469Z'
                updated_at: '2023-01-15T10:00:00.469Z'
                expected_response_time:
                  duration: PT2H
                expected_resolution_time:
                  duration: P1D
                refs:
                  - ref_id: O1
                    ref_type: ORDER
                  - ref_id: P1
                    ref_type: PROVIDER
                  - ref_id: F1
                    ref_type: FULFILMENT
                  - ref_id: I1
                    ref_type: ITEM
                    ref_details:
                      - descriptor:
                          code: message.order.items
                        list:
                          - descriptor:
                              code: quantity.selected.count
                            value: '2'
                actor_info:
                  - id: CUST1
                    type: CONSUMER
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      person:
                        name: Sam Manuel
                      contact:
                        phone: '9879879870'
                        email: sam@yahoo.com
                  - id: NP1
                    type: INTERFACING-NP
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394039'
                        email: buyerapp@interface.com
                      person:
                        name: John Doe
                source_id: CUST1
                complainant_id: NP1
                description:
                  code: ITM004
                  short_desc: Issue with product quality
                  long_desc: >-
                    Product quality is not correct. facing issues while using
                    the product
                  additional_desc:
                    url: https://buyerapp.com/additonal-details/desc.txt
                    content_type: text/plain
                  images:
                    - http://buyerapp.com/addtional-details/img1.png
                    - http://buyerapp.com/addtional-details/img2.png
                last_action_id: A1
                actions:
                  - id: A1
                    description:
                      code: OPEN
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
      - summary: Seller app responds with processing action
        api: on_issue
        details:
          - description: on_issue
            mermaid: |-
              sequenceDiagram
                 title  Buyer raising a complaint for an item
                 participant Buyer App
                 participant Seller App
                 Seller App->>Buyer App: Processing Action (on_issue)
                 Buyer App->>Seller App: Ack
        reference: if any
        example:
          value: &ref_1
            context:
              domain: ONDC:RET10
              location:
                country:
                  code: IND
                city:
                  code: '*'
              action: on_issue
              core_version: 2.0.0
              bap_id: buyerapp.com
              bap_uri: https://buyerapp.com/ondc
              bpp_id: sellerapp.com
              bpp_uri: https://sellerapp.com/ondc
              transaction_id: T1
              message_id: M1
              timestamp: '2023-01-15T10:00:00.469Z'
              ttl: PT30S
            message:
              upated_target:
                - path: issue.actions
                  action: APPENDED
              issue:
                id: ISSUE-1
                status: PROCESSING
                level: ISSUE
                created_at: '2023-01-15T10:00:00.469Z'
                updated_at: '2023-01-15T10:00:00.469Z'
                expected_response_time:
                  duration: PT2H
                expected_resolution_time:
                  duration: P1D
                refs:
                  - ref_id: O1
                    ref_type: ORDER
                  - ref_id: P1
                    ref_type: PROVIDER
                  - ref_id: F1
                    ref_type: FULFILMENT
                  - ref_id: I1
                    ref_type: ITEM
                    ref_details:
                      - descriptor:
                          code: message.order.items
                        list:
                          - descriptor:
                              code: quantity.selected.count
                            value: '2'
                actor_info:
                  - id: CUST1
                    type: CONSUMER
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      person:
                        name: Sam Manuel
                      contact:
                        phone: '9879879870'
                        email: sam@yahoo.com
                  - id: NP1
                    type: INTERFACING-NP
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394039'
                        email: buyerapp@interface.com
                      person:
                        name: John Doe
                  - id: NP2
                    type: TRANSACTION-COUNTERPARTY-NP
                    info:
                      org:
                        name: sellerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394140'
                        email: respondentapp@respond.com
                      person:
                        name: Jane Doe
                source_id: CUST1
                complainant_id: NP1
                respondent_ids:
                  - NP2
                resolver_ids:
                  - NP2
                description:
                  code: ITM004
                  short_desc: Issue with product quality
                  long_desc: >-
                    product quality is not correct. facing issues while using
                    the product
                  additional_desc:
                    url: https://buyerapp.com/additonal-details/desc.txt
                    content_type: text/plain
                  images:
                    - http://buyerapp.com/addtional-details/img1.png
                    - http://buyerapp.com/addtional-details/img2.png
                last_action_id: A2
                actions:
                  - id: A1
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: OPEN
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A2
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: PROCESSING
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:10.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
      - summary: >-
          Seller app needs more information to analyse (two info_request actions
          for two requirements)
        api: on_issue
        details:
          - description: on_issue
            mermaid: |-
              sequenceDiagram
               title  Buyer raising a complaint for an item
               participant Buyer App
               participant Seller App  
               Seller App->>Buyer App: Processing Action (on_issue)
               Buyer App ->> Seller App : ACK
        reference: if any
        example:
          value:
            context:
              domain: ONDC:RET10
              location:
                country:
                  code: IND
                city:
                  code: '*'
              action: on_issue
              core_version: 2.0.0
              bap_id: buyerapp.com
              bap_uri: https://buyerapp.com/ondc
              bpp_id: sellerapp.com
              bpp_uri: https://sellerapp.com/ondc
              transaction_id: T1
              message_id: M1
              timestamp: '2023-01-15T10:00:00.469Z'
              ttl: PT30S
            message:
              upated_target:
                - path: issue.actions
                  action: APPENDED
              issue:
                id: ISSUE-1
                status: PROCESSING
                level: ISSUE
                created_at: '2023-01-15T10:00:00.469Z'
                updated_at: '2023-01-15T10:00:00.469Z'
                expected_response_time:
                  duration: PT2H
                expected_resolution_time:
                  duration: P1D
                refs:
                  - ref_id: O1
                    ref_type: ORDER
                  - ref_id: P1
                    ref_type: PROVIDER
                  - ref_id: F1
                    ref_type: FULFILMENT
                  - ref_id: I1
                    ref_type: ITEM
                    ref_details:
                      - descriptor:
                          code: message.order.items
                        list:
                          - descriptor:
                              code: quantity.selected.count
                            value: '2'
                actor_info:
                  - id: CUST1
                    type: CONSUMER
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      person:
                        name: Sam Manuel
                      contact:
                        phone: '9879879870'
                        email: sam@yahoo.com
                  - id: NP1
                    type: INTERFACING-NP
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394039'
                        email: buyerapp@interface.com
                      person:
                        name: John Doe
                  - id: NP2
                    type: TRANSACTION-COUNTERPARTY-NP
                    info:
                      org:
                        name: sellerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394140'
                        email: respondentapp@respond.com
                      person:
                        name: Jane Doe
                source_id: CUST1
                complainant_id: NP1
                respondent_ids:
                  - NP2
                resolver_ids:
                  - NP2
                description:
                  code: ITM004
                  short_desc: Issue with product quality
                  long_desc: >-
                    product quality is not correct. facing issues while using
                    the product
                  additional_desc:
                    url: https://buyerapp.com/additonal-details/desc.txt
                    content_type: text/plain
                  images:
                    - http://buyerapp.com/addtional-details/img1.png
                    - http://buyerapp.com/addtional-details/img2.png
                last_action_id: A4
                actions:
                  - id: A1
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: OPEN
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A2
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: PROCESSING
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A3
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      'name ': INFO001
                      short_desc: Please provide product image
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A4
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      'name ': INFO002
                      short_desc: Please provide invoice
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
      - summary: >-
          Buyer app provides relevant information (responds to one of the
          requests)
        api: issue
        details:
          - description: issue
            mermaid: >-
              sequenceDiagram title  Buyer raising a complaint for an item
              participant Buyer App participant Seller App


              Buyer App->>Seller App: Provide Info (issue)
        reference: if any
        example:
          value:
            context:
              domain: ONDC:RET10
              location:
                country:
                  code: IND
                city:
                  code: '*'
              action: issue
              core_version: 2.0.0
              bap_id: buyerapp.com
              bap_uri: https://buyerapp.com/ondc
              bpp_id: sellerapp.com
              bpp_uri: https://sellerapp.com/ondc
              transaction_id: T1
              message_id: M1
              timestamp: '2023-01-15T10:00:00.469Z'
              ttl: PT30S
            message:
              upated_target:
                - path: issue.actions
                  action: APPENDED
              issue:
                id: ISSUE-1
                status: PROCESSING
                level: ISSUE
                created_at: '2023-01-15T10:00:00.469Z'
                updated_at: '2023-01-15T10:00:00.469Z'
                expected_response_time:
                  duration: PT2H
                expected_resolution_time:
                  duration: P1D
                refs:
                  - ref_id: O1
                    ref_type: ORDER
                  - ref_id: P1
                    ref_type: PROVIDER
                  - ref_id: F1
                    ref_type: FULFILMENT
                  - ref_id: I1
                    ref_type: ITEM
                    ref_details:
                      - descriptor:
                          code: message.order.items
                        list:
                          - descriptor:
                              code: quantity.selected.count
                            value: '2'
                actor_info:
                  - id: CUST1
                    type: CONSUMER
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      person:
                        name: Sam Manuel
                      contact:
                        phone: '9879879870'
                        email: sam@yahoo.com
                  - id: NP1
                    type: INTERFACING-NP
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394039'
                        email: buyerapp@interface.com
                      person:
                        name: John Doe
                  - id: NP2
                    type: TRANSACTION-COUNTERPARTY-NP
                    info:
                      org:
                        name: sellerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394140'
                        email: respondentapp@respond.com
                      person:
                        name: Jane Doe
                source_id: CUST1
                complainant_id: NP1
                respondent_ids:
                  - NP2
                resolver_ids:
                  - NP2
                description:
                  code: ITM004
                  short_desc: Issue with product quality
                  long_desc: >-
                    product quality is not correct. facing issues while using
                    the product
                  additional_desc:
                    url: https://buyerapp.com/additonal-details/desc.txt
                    content_type: text/plain
                  images:
                    - http://buyerapp.com/addtional-details/img1.png
                    - http://buyerapp.com/addtional-details/img2.png
                last_action_id: A5
                actions:
                  - id: A1
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: OPEN
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A2
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: PROCESSING
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A3
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      Name: INFO01
                      short_desc: Please provide product image
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A4
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      'name ': INFO002
                      short_desc: Please provide invoice
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A5
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_PROVIDED
                      short_desc: Info provided from buyer app
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
      - summary: Seller app responds with processing action
        api: on_issue
        details:
          - description: Seller app responds with processing action
            mermaid: |-
              sequenceDiagram
               title  Buyer raising a complaint for an item
               participant Buyer App
               participant Seller App

               Buyer App->>Seller App: Raise Complaint (issue)
               Seller App->>Buyer App: Processing Action (on_issue)
               Seller App->>Buyer App: Request More Information (on_issue)
               Buyer App->>Seller App: Provide Info (issue)
               Seller App->>Buyer App: Processing Action (on_issue)
               Seller App->>Buyer App: Request More Information (Tag Missing Info) (on_issue)
               Buyer App->>Seller App: Provide Info (issue)
               Seller App->>Buyer App: Processing Action (on_issue)
               Seller App->>Buyer App: Provide Resolution Options (on_issue)
               Buyer App->>Seller App: Accept Resolution (issue)
               Seller App->>Buyer App: Send Resolution Object (on_issue)
               Buyer App->>Seller App: Close Complaint (issue)
        reference: if any
        example:
          value:
            context:
              domain: ONDC:RET10
              location:
                country:
                  code: IND
                city:
                  code: '*'
              action: on_issue
              core_version: 2.0.0
              bap_id: buyerapp.com
              bap_uri: https://buyerapp.com/ondc
              bpp_id: sellerapp.com
              bpp_uri: https://sellerapp.com/ondc
              transaction_id: T1
              message_id: M1
              timestamp: '2023-01-15T10:00:00.469Z'
              ttl: PT30S
            message:
              upated_target:
                - path: issue.actions
                  action: APPENDED
              issue:
                id: ISSUE-1
                status: PROCESSING
                level: ISSUE
                created_at: '2023-01-15T10:00:00.469Z'
                updated_at: '2023-01-15T10:00:00.469Z'
                expected_response_time:
                  duration: PT2H
                expected_resolution_time:
                  duration: P1D
                refs:
                  - ref_id: O1
                    ref_type: ORDER
                  - ref_id: P1
                    ref_type: PROVIDER
                  - ref_id: F1
                    ref_type: FULFILMENT
                  - ref_id: I1
                    ref_type: ITEM
                    ref_details:
                      - descriptor:
                          code: message.order.items
                        list:
                          - descriptor:
                              code: quantity.selected.count
                            value: '2'
                actor_info:
                  - id: CUST1
                    type: CONSUMER
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      person:
                        name: Sam Manuel
                      contact:
                        phone: '9879879870'
                        email: sam@yahoo.com
                  - id: NP1
                    type: INTERFACING-NP
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394039'
                        email: buyerapp@interface.com
                      person:
                        name: John Doe
                  - id: NP2
                    type: TRANSACTION-COUNTERPARTY-NP
                    info:
                      org:
                        name: sellerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394140'
                        email: respondentapp@respond.com
                      person:
                        name: Jane Doe
                source_id: CUST1
                complainant_id: NP1
                respondent_ids:
                  - NP2
                resolver_ids:
                  - NP2
                description:
                  code: ITM004
                  short_desc: Issue with product quality
                  long_desc: >-
                    product quality is not correct. facing issues while using
                    the product
                  additional_desc:
                    url: https://buyerapp.com/additonal-details/desc.txt
                    content_type: text/plain
                  images:
                    - http://buyerapp.com/addtional-details/img1.png
                    - http://buyerapp.com/addtional-details/img2.png
                last_action_id: A6
                actions:
                  - id: A1
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: OPEN
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A2
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: PROCESSING
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A3
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      'name ': INFO001
                      short_desc: Please provide product image
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A4
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      'name ': INFO002
                      short_desc: Please provide invoice
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A5
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: PROCESING
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A6
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: Processing
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
      - summary: >-
          Seller app responds with need more info tagging the previous missing
          info
        api: on_issue
        details:
          - description: >-
              Seller app responds with need more info tagging the previous
              missing info
            mermaid: |-
              sequenceDiagram
               title  Buyer raising a complaint for an item
               participant Buyer App
               participant Seller App

               Buyer App->>Seller App: Raise Complaint (issue)
               Seller App->>Buyer App: Processing Action (on_issue)
               Seller App->>Buyer App: Request More Information (on_issue)
               Buyer App->>Seller App: Provide Info (issue)
               Seller App->>Buyer App: Processing Action (on_issue)
               Seller App->>Buyer App: Request More Information (Tag Missing Info) (on_issue)
               Buyer App->>Seller App: Provide Info (issue)
               Seller App->>Buyer App: Processing Action (on_issue)
               Seller App->>Buyer App: Provide Resolution Options (on_issue)
               Buyer App->>Seller App: Accept Resolution (issue)
               Seller App->>Buyer App: Send Resolution Object (on_issue)
               Buyer App->>Seller App: Close Complaint (issue)
        reference: if any
        example:
          value:
            context:
              domain: ONDC:RET10
              location:
                country:
                  code: IND
                city:
                  code: '*'
              action: on_issue
              core_version: 2.0.0
              bap_id: buyerapp.com
              bap_uri: https://buyerapp.com/ondc
              bpp_id: sellerapp.com
              bpp_uri: https://sellerapp.com/ondc
              transaction_id: T1
              message_id: M1
              timestamp: '2023-01-15T10:00:00.469Z'
              ttl: PT30S
            message:
              upated_target:
                - path: issue.actions
                  action: APPENDED
              issue:
                id: ISSUE-1
                status: PROCESSING
                level: ISSUE
                created_at: '2023-01-15T10:00:00.469Z'
                updated_at: '2023-01-15T10:00:00.469Z'
                expected_response_time:
                  duration: PT2H
                expected_resolution_time:
                  duration: P1D
                refs:
                  - ref_id: O1
                    ref_type: ORDER
                  - ref_id: P1
                    ref_type: PROVIDER
                  - ref_id: F1
                    ref_type: FULFILMENT
                  - ref_id: I1
                    ref_type: ITEM
                    ref_details:
                      - descriptor:
                          code: message.order.items
                        list:
                          - descriptor:
                              code: quantity.selected.count
                            value: '2'
                actor_info:
                  - id: CUST1
                    type: CONSUMER
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      person:
                        name: Sam Manuel
                      contact:
                        phone: '9879879870'
                        email: sam@yahoo.com
                  - id: NP1
                    type: INTERFACING-NP
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394039'
                        email: buyerapp@interface.com
                      person:
                        name: John Doe
                  - id: NP2
                    type: TRANSACTION-COUNTERPARTY-NP
                    info:
                      org:
                        name: sellerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394140'
                        email: respondentapp@respond.com
                      person:
                        name: Jane Doe
                source_id: CUST1
                complainant_id: NP1
                respondent_ids:
                  - NP2
                resolver_ids:
                  - NP2
                description:
                  code: ITM004
                  short_desc: Issue with product quality
                  long_desc: >-
                    product quality is not correct. facing issues while using
                    the product
                  additional_desc:
                    url: https://buyerapp.com/additonal-details/desc.txt
                    content_type: text/plain
                  images:
                    - http://buyerapp.com/addtional-details/img1.png
                    - http://buyerapp.com/addtional-details/img2.png
                last_action_id: A7
                actions:
                  - id: A1
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: OPEN
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A2
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: PROCESSING
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A3
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      'name ': INFO001
                      short_desc: Please provide product image
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A4
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      'name ': INFO002
                      short_desc: Please provide invoice
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A5
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_PROVIDED
                      short_desc: Buyer app providing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A6
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: Processing
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A7
                    ref_id: A4
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
      - summary: Buyer app provides relevant information (responds to the request
        api: issue
        details:
          - description: Buyer app provides relevant information (responds to the request
            mermaid: >-
              sequenceDiagram title  Buyer raising a complaint for an item
              participant Buyer App participant Seller App

              Buyer App->>Seller App: Raise Complaint (issue) Seller App->>Buyer
              App: Processing Action (on_issue) Seller App->>Buyer App: Request
              More Information (on_issue) Buyer App->>Seller App: Provide Info
              (issue) Seller App->>Buyer App: Processing Action (on_issue)
              Seller App->>Buyer App: Request More Information (Tag Missing
              Info) (on_issue) Buyer App->>Seller App: Provide Info (issue)
              Seller App->>Buyer App: Processing Action (on_issue) Seller
              App->>Buyer App: Provide Resolution Options (on_issue) Buyer
              App->>Seller App: Accept Resolution (issue) Seller App->>Buyer
              App: Send Resolution Object (on_issue) Buyer App->>Seller App:
              Close Complaint (issue)
        reference: if any
        example:
          value:
            context:
              domain: ONDC:RET10
              location:
                country:
                  code: IND
                city:
                  code: '*'
              action: issue
              core_version: 2.0.0
              bap_id: buyerapp.com
              bap_uri: https://buyerapp.com/ondc
              bpp_id: sellerapp.com
              bpp_uri: https://sellerapp.com/ondc
              transaction_id: T1
              message_id: M1
              timestamp: '2023-01-15T10:00:00.469Z'
              ttl: PT30S
            message:
              upated_target:
                - path: issue.actions
                  action: APPENDED
              issue:
                id: ISSUE-1
                status: PROCESSING
                level: ISSUE
                created_at: '2023-01-15T10:00:00.469Z'
                updated_at: '2023-01-15T10:00:00.469Z'
                expected_response_time:
                  duration: PT2H
                expected_resolution_time:
                  duration: P1D
                refs:
                  - ref_id: O1
                    ref_type: ORDER
                  - ref_id: P1
                    ref_type: PROVIDER
                  - ref_id: F1
                    ref_type: FULFILMENT
                  - ref_id: I1
                    ref_type: ITEM
                    ref_details:
                      - descriptor:
                          code: message.order.items
                        list:
                          - descriptor:
                              code: quantity.selected.count
                            value: '2'
                actor_info:
                  - id: CUST1
                    type: CONSUMER
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      person:
                        name: Sam Manuel
                      contact:
                        phone: '9879879870'
                        email: sam@yahoo.com
                  - id: NP1
                    type: INTERFACING-NP
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394039'
                        email: buyerapp@interface.com
                      person:
                        name: John Doe
                  - id: NP2
                    type: TRANSACTION-COUNTERPARTY-NP
                    info:
                      org:
                        name: sellerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394140'
                        email: respondentapp@respond.com
                      person:
                        name: Jane Doe
                source_id: CUST1
                complainant_id: NP1
                respondent_ids:
                  - NP2
                resolver_ids:
                  - NP2
                description:
                  code: ITM004
                  short_desc: Issue with product quality
                  long_desc: >-
                    product quality is not correct. facing issues while using
                    the product
                  additional_desc:
                    url: https://buyerapp.com/additonal-details/desc.txt
                    content_type: text/plain
                  images:
                    - http://buyerapp.com/addtional-details/img1.png
                    - http://buyerapp.com/addtional-details/img2.png
                last_action_id: A8
                actions:
                  - id: A1
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: OPEN
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A2
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: PROCESSING
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A3
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      'name ': INFO001
                      short_desc: Please provide product image
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A4
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      'name ': INFO002
                      short_desc: Please provide invoice
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A5
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_PROVIDED
                      short_desc: Buyer app providing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A6
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: Processing
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A7
                    ref_id: A4
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A8
                    ref_id: A4
                    ref_type: ''
                    description:
                      code: INFO_PROVIDED
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
      - summary: >-
          Seller app responds with need more info tagging the previous missing
          info
        api: on_issue
        details:
          - description: >-
              Seller app responds with need more info tagging the previous
              missing info
            mermaid: |-
              sequenceDiagram
                title  Buyer raising a complaint for an item
                participant Buyer App
                participant Seller App

                Buyer App->>Seller App: Raise Complaint (issue)
                Seller App->>Buyer App: Processing Action (on_issue)
                Seller App->>Buyer App: Request More Information (on_issue)
                Buyer App->>Seller App: Provide Info (issue)
                Seller App->>Buyer App: Processing Action (on_issue)
                Seller App->>Buyer App: Request More Information (Tag Missing Info) (on_issue)
                Buyer App->>Seller App: Provide Info (issue)
                Seller App->>Buyer App: Processing Action (on_issue)
                Seller App->>Buyer App: Provide Resolution Options (on_issue)
                Buyer App->>Seller App: Accept Resolution (issue)
                Seller App->>Buyer App: Send Resolution Object (on_issue)
                Buyer App->>Seller App: Close Complaint (issue)
        reference: if any
        example:
          value:
            context:
              domain: ONDC:RET10
              location:
                country:
                  code: IND
                city:
                  code: '*'
              action: on_issue
              core_version: 2.0.0
              bap_id: buyerapp.com
              bap_uri: https://buyerapp.com/ondc
              bpp_id: sellerapp.com
              bpp_uri: https://sellerapp.com/ondc
              transaction_id: T1
              message_id: M1
              timestamp: '2023-01-15T10:00:00.469Z'
              ttl: PT30S
            message:
              upated_target:
                - path: issue.actions
                  action: APPENDED
              issue:
                id: ISSUE-1
                status: PROCESSING
                level: ISSUE
                created_at: '2023-01-15T10:00:00.469Z'
                updated_at: '2023-01-15T10:00:00.469Z'
                expected_response_time:
                  duration: PT2H
                expected_resolution_time:
                  duration: P1D
                refs:
                  - ref_id: O1
                    ref_type: ORDER
                  - ref_id: P1
                    ref_type: PROVIDER
                  - ref_id: F1
                    ref_type: FULFILMENT
                  - ref_id: I1
                    ref_type: ITEM
                    ref_details:
                      - descriptor:
                          code: message.order.items
                        list:
                          - descriptor:
                              code: quantity.selected.count
                            value: '2'
                actor_info:
                  - id: CUST1
                    type: CONSUMER
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      person:
                        name: Sam Manuel
                      contact:
                        phone: '9879879870'
                        email: sam@yahoo.com
                  - id: NP1
                    type: INTERFACING-NP
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394039'
                        email: buyerapp@interface.com
                      person:
                        name: John Doe
                  - id: NP2
                    type: TRANSACTION-COUNTERPARTY-NP
                    info:
                      org:
                        name: sellerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394140'
                        email: respondentapp@respond.com
                      person:
                        name: Jane Doe
                source_id: CUST1
                complainant_id: NP1
                respondent_ids:
                  - NP2
                resolver_ids:
                  - NP2
                description:
                  code: ITM004
                  short_desc: Issue with product quality
                  long_desc: >-
                    product quality is not correct. facing issues while using
                    the product
                  additional_desc:
                    url: https://buyerapp.com/additonal-details/desc.txt
                    content_type: text/plain
                  images:
                    - http://buyerapp.com/addtional-details/img1.png
                    - http://buyerapp.com/addtional-details/img2.png
                last_action_id: A9
                actions:
                  - id: A1
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: OPEN
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A2
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: PROCESSING
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A3
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      'name ': INFO001
                      short_desc: Please provide product image
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A4
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      'name ': INFO002
                      short_desc: Please provide invoice
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A5
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_PROVIDED
                      short_desc: Buyer app providing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A6
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: Processing
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A7
                    ref_id: A4
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A8
                    ref_id: A4
                    ref_type: ''
                    description:
                      code: INFO_PROVIDED
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A9
                    ref_id: ''
                    ref_type: ''
                    description:
                      code: Processing
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
      - summary: >-
          Seller app responds with need more info tagging the previous missing
          info
        api: on_issue
        details:
          - description: >-
              Seller app responds with need more info tagging the previous
              missing info
            mermaid: |-
              sequenceDiagram
               title  Buyer raising a complaint for an item
               participant Buyer App
               participant Seller App

               Buyer App->>Seller App: Raise Complaint (issue)
               Seller App->>Buyer App: Processing Action (on_issue)
               Seller App->>Buyer App: Request More Information (on_issue)
               Buyer App->>Seller App: Provide Info (issue)
               Seller App->>Buyer App: Processing Action (on_issue)
               Seller App->>Buyer App: Request More Information (Tag Missing Info) (on_issue)
               Buyer App->>Seller App: Provide Info (issue)
               Seller App->>Buyer App: Processing Action (on_issue)
               Seller App->>Buyer App: Provide Resolution Options (on_issue)
               Buyer App->>Seller App: Accept Resolution (issue)
               Seller App->>Buyer App: Send Resolution Object (on_issue)
               Buyer App->>Seller App: Close Complaint (issue)
        reference: if any
        example:
          value:
            context:
              domain: ONDC:RET10
              location:
                country:
                  code: IND
                city:
                  code: '*'
              action: on_issue
              core_version: 2.0.0
              bap_id: buyerapp.com
              bap_uri: https://buyerapp.com/ondc
              bpp_id: sellerapp.com
              bpp_uri: https://sellerapp.com/ondc
              transaction_id: T1
              message_id: M1
              timestamp: '2023-01-15T10:00:00.469Z'
              ttl: PT30S
            message:
              upated_target:
                - path: issue.actions
                  action: APPENDED
              issue:
                id: ISSUE-1
                status: PROCESSING
                level: ISSUE
                created_at: '2023-01-15T10:00:00.469Z'
                updated_at: '2023-01-15T10:00:00.469Z'
                expected_response_time:
                  duration: PT2H
                expected_resolution_time:
                  duration: P1D
                refs:
                  - ref_id: O1
                    ref_type: ORDER
                  - ref_id: P1
                    ref_type: PROVIDER
                  - ref_id: F1
                    ref_type: FULFILMENT
                  - ref_id: I1
                    ref_type: ITEM
                    ref_details:
                      - descriptor:
                          code: message.order.items
                        list:
                          - descriptor:
                              code: quantity.selected.count
                            value: '2'
                actor_info:
                  - id: CUST1
                    type: CONSUMER
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      person:
                        name: Sam Manuel
                      contact:
                        phone: '9879879870'
                        email: sam@yahoo.com
                  - id: NP1
                    type: INTERFACING-NP
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394039'
                        email: buyerapp@interface.com
                      person:
                        name: John Doe
                  - id: NP2
                    type: TRANSACTION-COUNTERPARTY-NP
                    info:
                      org:
                        name: sellerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394140'
                        email: respondentapp@respond.com
                      person:
                        name: Jane Doe
                source_id: CUST1
                complainant_id: NP1
                respondent_ids:
                  - NP2
                resolver_ids:
                  - NP2
                description:
                  code: ITM004
                  short_desc: Issue with product quality
                  long_desc: >-
                    product quality is not correct. facing issues while using
                    the product
                  additional_desc:
                    url: https://buyerapp.com/additonal-details/desc.txt
                    content_type: text/plain
                  images:
                    - http://buyerapp.com/addtional-details/img1.png
                    - http://buyerapp.com/addtional-details/img2.png
                last_action_id: A9
                actions:
                  - id: A1
                    ref_id: ''
                    ref_type: ''
                    description:
                      code: OPEN
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A2
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: PROCESSING
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A3
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      'name ': INFO001
                      short_desc: Please provide product image
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A4
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      'name ': INFO002
                      short_desc: Please provide invoice
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A5
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_PROVIDED
                      short_desc: Buyer app providing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A6
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: Processing
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A7
                    ref_id: A4
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A8
                    ref_id: A4
                    ref_type: ''
                    description:
                      code: INFO_PROVIDED
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A9
                    ref_id: ''
                    ref_type: ''
                    description:
                      code: Processing
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A10
                    ref_id: ''
                    ref_type: ''
                    description:
                      code: RESOLUTION_PROPOSED
                      short_desc: Seller app proposed the resolution
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
      - summary: >-
          Seller app responds with need more info tagging the previous missing
          info
        api: issue
        details:
          - description: >-
              Seller app responds with need more info tagging the previous
              missing info
            mermaid: |-
              sequenceDiagram
                 title  Buyer raising a complaint for an item
                 participant Buyer App
                 participant Seller App

                 Buyer App->>Seller App: Raise Complaint (issue)
                 Seller App->>Buyer App: Processing Action (on_issue)
                 Seller App->>Buyer App: Request More Information (on_issue)
                 Buyer App->>Seller App: Provide Info (issue)
                 Seller App->>Buyer App: Processing Action (on_issue)
                 Seller App->>Buyer App: Request More Information (Tag Missing Info) (on_issue)
                 Buyer App->>Seller App: Provide Info (issue)
                 Seller App->>Buyer App: Processing Action (on_issue)
                 Seller App->>Buyer App: Provide Resolution Options (on_issue)
                 Buyer App->>Seller App: Accept Resolution (issue)
                 Seller App->>Buyer App: Send Resolution Object (on_issue)
                 Buyer App->>Seller App: Close Complaint (issue)
        reference: if any
        example:
          value:
            context:
              domain: ONDC:RET10
              location:
                country:
                  code: IND
                city:
                  code: '*'
              action: issue
              core_version: 2.0.0
              bap_id: buyerapp.com
              bap_uri: https://buyerapp.com/ondc
              bpp_id: sellerapp.com
              bpp_uri: https://sellerapp.com/ondc
              transaction_id: T1
              message_id: M1
              timestamp: '2023-01-15T10:00:00.469Z'
              ttl: PT30S
            message:
              upated_target:
                - path: issue.actions
                  action: APPENDED
              issue:
                id: ISSUE-1
                status: PROCESSING
                level: ISSUE
                created_at: '2023-01-15T10:00:00.469Z'
                updated_at: '2023-01-15T10:00:00.469Z'
                expected_response_time:
                  duration: PT2H
                expected_resolution_time:
                  duration: P1D
                refs:
                  - ref_id: O1
                    ref_type: ORDER
                  - ref_id: P1
                    ref_type: PROVIDER
                  - ref_id: F1
                    ref_type: FULFILMENT
                  - ref_id: I1
                    ref_type: ITEM
                    ref_details:
                      - descriptor:
                          code: message.order.items
                        list:
                          - descriptor:
                              code: quantity.selected.count
                            value: '2'
                actor_info:
                  - id: CUST1
                    type: CONSUMER
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      person:
                        name: Sam Manuel
                      contact:
                        phone: '9879879870'
                        email: sam@yahoo.com
                  - id: NP1
                    type: INTERFACING-NP
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394039'
                        email: buyerapp@interface.com
                      person:
                        name: John Doe
                  - id: NP2
                    type: TRANSACTION-COUNTERPARTY-NP
                    info:
                      org:
                        name: sellerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394140'
                        email: respondentapp@respond.com
                      person:
                        name: Jane Doe
                source_id: CUST1
                complainant_id: NP1
                respondent_ids:
                  - NP2
                resolver_ids:
                  - NP2
                description:
                  code: ITM004
                  short_desc: Issue with product quality
                  long_desc: >-
                    product quality is not correct. facing issues while using
                    the product
                  additional_desc:
                    url: https://buyerapp.com/additonal-details/desc.txt
                    content_type: text/plain
                  images:
                    - http://buyerapp.com/addtional-details/img1.png
                    - http://buyerapp.com/addtional-details/img2.png
                last_action_id: A11
                actions:
                  - id: A1
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: OPEN
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A2
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: PROCESSING
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A3
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      'name ': INFO001
                      short_desc: Please provide product image
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A4
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      'name ': INFO002
                      short_desc: Please provide invoice
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A5
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_PROVIDED
                      short_desc: Buyer app providing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A6
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: Processing
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A7
                    ref_id: A4
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A8
                    ref_id: A4
                    ref_type: ''
                    description:
                      code: INFO_PROVIDED
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A9
                    ref_id: ''
                    ref_type: ''
                    description:
                      code: Processing
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A10
                    ref_id: ''
                    ref_type: ''
                    description:
                      code: RESOLUTION_PROPOSED
                      'name ': refund
                      short_desc: Seller app proposed the resolution
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A11
                    ref_id: ''
                    ref_type: ''
                    description:
                      code: RESOLUTION_PROVIDED
                      'name ': replacement
                      short_desc: Seller app proposed the resolution
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
      - summary: >-
          Seller app responds with need more info tagging the previous missing
          info
        api: on_issue
        details:
          - description: >-
              Seller app responds with need more info tagging the previous
              missing info
            mermaid: |-
              sequenceDiagram
               title  Buyer raising a complaint for an item
               participant Buyer App
               participant Seller App

               Buyer App->>Seller App: Raise Complaint (issue)
               Seller App->>Buyer App: Processing Action (on_issue)
               Seller App->>Buyer App: Request More Information (on_issue)
               Buyer App->>Seller App: Provide Info (issue)
               Seller App->>Buyer App: Processing Action (on_issue)
               Seller App->>Buyer App: Request More Information (Tag Missing Info) (on_issue)
               Buyer App->>Seller App: Provide Info (issue)
               Seller App->>Buyer App: Processing Action (on_issue)
               Seller App->>Buyer App: Provide Resolution Options (on_issue)
               Buyer App->>Seller App: Accept Resolution (issue)
               Seller App->>Buyer App: Send Resolution Object (on_issue)
               Buyer App->>Seller App: Close Complaint (issue)
        reference: if any
        example:
          value:
            context:
              domain: ONDC:RET10
              location:
                country:
                  code: IND
                city:
                  code: '*'
              action: on_issue
              core_version: 2.0.0
              bap_id: buyerapp.com
              bap_uri: https://buyerapp.com/ondc
              bpp_id: sellerapp.com
              bpp_uri: https://sellerapp.com/ondc
              transaction_id: T1
              message_id: M1
              timestamp: '2023-01-15T10:00:00.469Z'
              ttl: PT30S
            message:
              upated_target:
                - path: issue.actions
                  action: APPENDED
              issue:
                id: ISSUE-1
                status: RESOLVED
                level: ISSUE
                created_at: '2023-01-15T10:00:00.469Z'
                updated_at: '2023-01-15T10:00:00.469Z'
                expected_response_time:
                  duration: PT2H
                expected_resolution_time:
                  duration: P1D
                refs:
                  - ref_id: O1
                    ref_type: ORDER
                  - ref_id: P1
                    ref_type: PROVIDER
                  - ref_id: F1
                    ref_type: FULFILMENT
                  - ref_id: I1
                    ref_type: ITEM
                    ref_details:
                      - descriptor:
                          code: message.order.items
                        list:
                          - descriptor:
                              code: quantity.selected.count
                            value: '2'
                actor_info:
                  - id: CUST1
                    type: CONSUMER
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      person:
                        name: Sam Manuel
                      contact:
                        phone: '9879879870'
                        email: sam@yahoo.com
                  - id: NP1
                    type: INTERFACING-NP
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394039'
                        email: buyerapp@interface.com
                      person:
                        name: John Doe
                  - id: NP2
                    type: TRANSACTION-COUNTERPARTY-NP
                    info:
                      org:
                        name: sellerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394140'
                        email: respondentapp@respond.com
                      person:
                        name: Jane Doe
                source_id: CUST1
                complainant_id: NP1
                respondent_ids:
                  - NP2
                resolver_ids:
                  - NP2
                description:
                  code: ITM004
                  short_desc: Issue with product quality
                  long_desc: >-
                    product quality is not correct. facing issues while using
                    the product
                  additional_desc:
                    url: https://buyerapp.com/additonal-details/desc.txt
                    content_type: text/plain
                  images:
                    - http://buyerapp.com/addtional-details/img1.png
                    - http://buyerapp.com/addtional-details/img2.png
                last_action_id: A12
                actions:
                  - id: A1
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: OPEN
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A2
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: PROCESSING
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A3
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      'name ': INFO001
                      short_desc: Please provide product image
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A4
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      'name ': INFO002
                      short_desc: Please provide invoice
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A5
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_PROVIDED
                      short_desc: Buyer app providing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A6
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: Processing
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A7
                    ref_id: A4
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A8
                    ref_id: A4
                    ref_type: ''
                    description:
                      code: INFO_PROVIDED
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A9
                    ref_id: ''
                    ref_type: ''
                    description:
                      code: Processing
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A10
                    ref_id: ''
                    ref_type: ''
                    description:
                      code: RESOLUTION_PROPOSED
                      'name ': refund
                      short_desc: Seller app proposed the resolution
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A11
                    ref_id: ''
                    ref_type: ''
                    description:
                      code: RESOLUTION_PROVIDED
                      'name ': replacement
                      short_desc: Seller app proposed the resolution
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A12
                    ref_id: ''
                    ref_type: ''
                    description:
                      code: RESOLVED
                      'name ': replacement
                      short_desc: Seller app proposed the resolution
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A12
                    ref_id: ''
                    ref_type: ''
                    description:
                      code: RESOLVED
                      'name ': replacement
                      short_desc: Seller app proposed the resolution
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
      - summary: >-
          Seller app responds with need more info tagging the previous missing
          info
        api: issue
        details:
          - description: >-
              Seller app responds with need more info tagging the previous
              missing info
            mermaid: |-
              sequenceDiagram
                title  Buyer raising a complaint for an item
                participant Buyer App
                participant Seller App

                Buyer App->>Seller App: Raise Complaint (issue)
                Seller App->>Buyer App: Processing Action (on_issue)
                Seller App->>Buyer App: Request More Information (on_issue)
                Buyer App->>Seller App: Provide Info (issue)
                Seller App->>Buyer App: Processing Action (on_issue)
                Seller App->>Buyer App: Request More Information (Tag Missing Info) (on_issue)
                Buyer App->>Seller App: Provide Info (issue)
                Seller App->>Buyer App: Processing Action (on_issue)
                Seller App->>Buyer App: Provide Resolution Options (on_issue)
                Buyer App->>Seller App: Accept Resolution (issue)
                Seller App->>Buyer App: Send Resolution Object (on_issue)
                Buyer App->>Seller App: Close Complaint (issue)
        reference: if any
        example:
          value:
            context:
              domain: ONDC:RET10
              location:
                country:
                  code: IND
                city:
                  code: '*'
              action: issue
              core_version: 2.0.0
              bap_id: buyerapp.com
              bap_uri: https://buyerapp.com/ondc
              bpp_id: sellerapp.com
              bpp_uri: https://sellerapp.com/ondc
              transaction_id: T1
              message_id: M1
              timestamp: '2023-01-15T10:00:00.469Z'
              ttl: PT30S
            message:
              upated_target:
                - path: issue.actions
                  action: APPENDED
              issue:
                id: ISSUE-1
                status: CLOSED
                level: ISSUE
                created_at: '2023-01-15T10:00:00.469Z'
                updated_at: '2023-01-15T10:00:00.469Z'
                expected_response_time:
                  duration: PT2H
                expected_resolution_time:
                  duration: P1D
                refs:
                  - ref_id: O1
                    ref_type: ORDER
                  - ref_id: P1
                    ref_type: PROVIDER
                  - ref_id: F1
                    ref_type: FULFILMENT
                  - ref_id: I1
                    ref_type: ITEM
                    ref_details:
                      - descriptor:
                          code: message.order.items
                        list:
                          - descriptor:
                              code: quantity.selected.count
                            value: '2'
                actor_info:
                  - id: CUST1
                    type: CONSUMER
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      person:
                        name: Sam Manuel
                      contact:
                        phone: '9879879870'
                        email: sam@yahoo.com
                  - id: NP1
                    type: INTERFACING-NP
                    info:
                      org:
                        name: buyerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394039'
                        email: buyerapp@interface.com
                      person:
                        name: John Doe
                  - id: NP2
                    type: TRANSACTION-COUNTERPARTY-NP
                    info:
                      org:
                        name: sellerapp.com::ONDC:RET10
                      contact:
                        phone: '9450394140'
                        email: respondentapp@respond.com
                      person:
                        name: Jane Doe
                source_id: CUST1
                complainant_id: NP1
                respondent_ids:
                  - NP2
                resolver_ids:
                  - NP2
                description:
                  code: ITM004
                  short_desc: Issue with product quality
                  long_desc: >-
                    product quality is not correct. facing issues while using
                    the product
                  additional_desc:
                    url: https://buyerapp.com/additonal-details/desc.txt
                    content_type: text/plain
                  images:
                    - http://buyerapp.com/addtional-details/img1.png
                    - http://buyerapp.com/addtional-details/img2.png
                last_action_id: A13
                actions:
                  - id: A1
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: OPEN
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A2
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: PROCESSING
                      short_desc: Complaint created
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A3
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      'name ': INFO001
                      short_desc: Please provide product image
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A4
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      'name ': INFO002
                      short_desc: Please provide invoice
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A5
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: INFO_PROVIDED
                      short_desc: Buyer app providing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A6
                    ref_id: '-'
                    ref_type: ''
                    description:
                      code: Processing
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A7
                    ref_id: A4
                    ref_type: ''
                    description:
                      code: INFO_REQUESTED
                      short_desc: Seller app processing the info
                    updated_at: 2023-01-15T10:00:00.469Z"
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A8
                    ref_id: A4
                    ref_type: ''
                    description:
                      code: INFO_PROVIDED
                      short_desc: Seller app processing the info
                    updated_at: 2023-01-15T10:00:00.469Z"
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A9
                    ref_id: ''
                    ref_type: ''
                    description:
                      code: Processing
                      short_desc: Seller app processing the info
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A10
                    ref_id: ''
                    ref_type: ''
                    description:
                      code: RESOLUTION_PROPOSED
                      'name ': refund
                      short_desc: Seller app proposed the resolution
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A11
                    ref_id: ''
                    ref_type: ''
                    description:
                      code: RESOLUTION_PROVIDED
                      'name ': replacement
                      short_desc: Seller app proposed the resolution
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A12
                    ref_id: ''
                    ref_type: ''
                    description:
                      code: RESOLVED
                      'name ': replacement
                      short_desc: Seller app proposed the resolution
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A12
                    ref_id: ''
                    ref_type: ''
                    description:
                      code: RESOLVED
                      'name ': replacement
                      short_desc: Seller app proposed the resolution
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
                  - id: A13
                    ref_id: ''
                    ref_type: ''
                    description:
                      code: Closed
                      short_desc: Buyer app close the issue
                    updated_at: '2023-01-15T10:00:00.469Z'
                    action_by: NP1
                    actor_details:
                      name: Sam Manuel
x-examples:
  Flow1:
    summary: IGM implementation
    description: IGM examples
    example_set:
      issue:
        examples:
          - summary: issue
            description: TBD
            value: *ref_0
      on_issue:
        examples:
          - summary: on_issue
            description: TBDmkjkj
            value: *ref_1
x-attributes:
  Flow1:
    attribute_set:
      issue:
        message:
          issue:
            id:
              required: mandatory
              type: String
              owner: BAP
              usage: ISSUE-1
              description: The unique identifier for the issue or complaint.
            status:
              required: mandatory
              type: String
              owner: BAP
              usage: OPEN
              description: false
            level:
              required: mandatory
              type: String
              owner: BAP
              usage: ISSUE
              description: false
            created_at:
              required: mandatory
              type: String
              owner: BAP
              usage: '"2023-01-15T10:00:00.469Z"'
              description: false
            updated_at:
              required: mandatory
              type: String
              owner: BAP
              usage: '"2023-01-15T10:00:00.469Z"'
              description: false
            expected_response_time:
              duration:
                required: mandatory
                type: String
                owner: BAP
                usage: PT2H
                description: false
            expected_resolution_time:
              duration:
                required: mandatory
                type: String
                owner: BAP
                usage: P1D
                description: false
            ref:
              ref_id:
                required: mandatory
                type: String
                owner: BAP
                usage: O1
                description: false
              ref_type:
                required: mandatory
                type: String
                owner: BAP
                usage: ORDER
                description: false
            actor_info:
              id:
                required: mandatory
                type: String
                owner: BAP
                usage: P1
                description: false
              type:
                required: mandatory
                type: String
                owner: BAP
                usage: PROVIDER
                description: false
              info:
                org:
                  name:
                    required: mandatory
                    type: String
                    owner: BAP
                    usage: buyerapp.com::ONDC:RET10
                    description: false
                person:
                  name:
                    required: mandatory
                    type: String
                    owner: BAP
                    usage: Sam Manuel
                    description: false
                contact:
                  phone:
                    required: mandatory
                    type: String
                    owner: BAP
                    usage: '"9879879870"'
                    description: false
                  email:
                    required: mandatory
                    type: String
                    owner: BAP
                    usage: sam@yahoo.com
                    description: false
            source_id:
              required: mandatory
              type: String
              owner: BAP
              usage: CUST1
              description: false
            complainant_id:
              required: mandatory
              type: String
              owner: BAP
              usage: NP1
              description: false
            description:
              code:
                required: mandatory
                type: String
                owner: BAP
                usage: ITM004
                description: false
              short_desc:
                required: mandatory
                type: String
                owner: BAP
                usage: Issue with product quality
                description: false
              long_desc:
                required: mandatory
                type: String
                owner: BAP
                usage: >-
                  Product quality is not correct. facing issues while using the
                  product
                description: false
              additional_desc:
                url:
                  required: mandatory
                  type: String
                  owner: BAP
                  usage: https://buyerapp.com/additonal-details/desc.txt
                  description: false
                content_type:
                  required: mandatory
                  type: String
                  owner: BAP
                  usage: text/plain
                  description: false
              images:
                required: mandatory
                type: String
                owner: BAP
                usage: http://buyerapp.com/addtional-details/img1.png
                description: false
            last_action_id:
              required: mandatory
              type: String
              owner: BAP
              usage: A1
              description: false
            actions:
              id:
                required: mandatory
                type: String
                owner: BAP
                usage: OPEN
                description: false
              description:
                code:
                  required: mandatory
                  type: String
                  owner: BAP
                  usage: Complaint created
                  description: false
                short_desc:
                  required: mandatory
                  type: String
                  owner: BAP
                  usage: Complaint created
                  description: false
              'updated_at:':
                required: mandatory
                type: String
                owner: BAP
                usage: '2023-01-15T10:00:00.469Z'
                description: false
              action_by:
                required: mandatory
                type: String
                owner: BAP
                usage: NP1
                description: false
              actor_details:
                name:
                  required: mandatory
                  type: String
                  owner: BAP
                  usage: Sam Manuel
                  description: false
      on_issue:
        message:
          issue:
            id:
              required: mandatory
              type: String
              owner: BPP
              usage: ISSUE-1
              description: >-
                Network issue identifier is an unique number assigned to any
                complaint by the interfacing application at the source.
            status:
              required: mandatory
              type: String
              owner: BPP
              usage: OPEN
              description: describe issue status
            level:
              required: mandatory
              type: String
              owner: BPP
              usage: ISSUE
              description: false
            created_at:
              required: mandatory
              type: String
              owner: BPP
              usage: '"2023-01-15T10:00:00.469Z"'
              description: timestamp for the creation of the issue
            updated_at:
              required: mandatory
              type: String
              owner: BPP
              usage: '"2023-01-15T10:00:00.469Z"'
              description: timestamp for the capturing the time an issue was last updated
            expected_response_time:
              duration:
                required: mandatory
                type: String
                owner: BPP
                usage: PT2H
                description: >-
                  Describes time in its various forms. It can be a single point
                  in time; duration; or a structured timetable of operations
            expected_resolution_time:
              duration:
                required: mandatory
                type: String
                owner: BPP
                usage: P1D
                description: >-
                  Describes time in its various forms. It can be a single point
                  in time; duration; or a structured timetable of operations
            ref:
              ref_id:
                required: mandatory
                type: String
                owner: BPP
                usage: O1
                description: Reference to another object
              ref_type:
                required: mandatory
                type: String
                owner: BPP
                usage: ORDER
                description: Type of referenced object
            actor_info:
              id:
                required: mandatory
                type: String
                owner: BPP
                usage: P1
                description: ID of the actor
              type:
                required: mandatory
                type: String
                owner: BPP
                usage: PROVIDER
                description: 'Type of the actor '
              info:
                org:
                  name:
                    required: mandatory
                    type: String
                    owner: BPP
                    usage: buyerapp.com::ONDC:RET10
                    description: Organization name of the actor
                person:
                  name:
                    required: mandatory
                    type: String
                    owner: BPP
                    usage: Sam Manuel
                    description: Name of a repersentative of the  actor
                contact:
                  phone:
                    required: mandatory
                    type: String
                    owner: BPP
                    usage: '"9879879870"'
                    description: Phone no of the actor
                  email:
                    required: mandatory
                    type: String
                    owner: BPP
                    usage: sam@yahoo.com
                    description: Email ID of the actor
            source_id:
              required: mandatory
              type: String
              owner: BPP
              usage: CUST1
              description: ID of the actor where the complaint was raised
            complainant_id:
              required: mandatory
              type: String
              owner: BPP
              usage: NP1
              description: ID of the Netework participant
            description:
              code:
                required: mandatory
                type: String
                owner: BPP
                usage: ITM004
                description: Category of the complaint
              short_desc:
                required: mandatory
                type: String
                owner: BPP
                usage: Issue with product quality
                description: Short description about the complainant
              long_desc:
                required: mandatory
                type: String
                owner: BPP
                usage: >-
                  Product quality is not correct. facing issues while using the
                  product
                description: Long description about the complainant
              additional_desc:
                url:
                  required: mandatory
                  type: String
                  owner: BPP
                  usage: https://buyerapp.com/additonal-details/desc.txt
                  description: Additional desc about complainant
                content_type:
                  required: mandatory
                  type: String
                  owner: BPP
                  usage: text/plain
                  description: false
              images:
                required: mandatory
                type: String
                owner: BPP
                usage: http://buyerapp.com/addtional-details/img1.png
                description: Image link
            last_action_id:
              required: mandatory
              type: String
              owner: BPP
              usage: A1
              description: Description about the last action ID
            actions:
              id:
                required: mandatory
                type: String
                owner: BPP
                usage: OPEN
                description: Describes about the action ID
              description:
                code:
                  required: mandatory
                  type: String
                  owner: BPP
                  usage: Complaint created
                  description: 'Describes the action code '
                short_desc:
                  required: mandatory
                  type: String
                  owner: BPP
                  usage: Complaint created
                  description: Describes the short description
              'updated_at:':
                required: mandatory
                type: String
                owner: BPP
                usage: '2023-01-15T10:00:00.469Z'
                description: Describes the update at timestamp of the action
              action_by:
                required: mandatory
                type: String
                owner: BPP
                usage: NP1
                description: Tells about who is performing the action
              actor_details:
                name:
                  required: mandatory
                  type: String
                  owner: BPP
                  usage: Sam Manuel
                  description: Name of the actor
