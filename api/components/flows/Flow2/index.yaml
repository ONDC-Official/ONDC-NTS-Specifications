summary: Illustrative Flow 2
details:
  - description:  This flow provides an illustrative example workflow for the IGM framework where a seller / seller app (complainant) raises a complaint that their store is not visible on the respective buyer app tagging the transaction id of the /on_search request shared along with the provider_id of the seller. The buyer analyses the complaints and proposes a resolution saying the seller would now be visible. The seller accepts the resolution and the buyer app resolves the same claiming it is now visible on the interface. The seller escalates the complaint as the seller is still not visible. The GRO of the buyer app gets involved and attempts to analyse the complaint. They propose a resolution acknowledging the mistake in their catalogue processing workflow and resolve the complaint. The seller is now visible on the buyer app interface and the seller closes the complaint.
    mermaid: >-
      sequenceDiagram
        participant SellerApp as Seller App
        participant BuyerApp as Buyer App

        SellerApp->>BuyerApp: Raise complaint for policy category (issue)
        BuyerApp->>SellerApp: Respond with processing action (on_issue)
        BuyerApp->>SellerApp: Respond with proposed resolution (on_issue)
        SellerApp->>BuyerApp: Accepts proposed resolution (issue)
        BuyerApp->>SellerApp: Provides resolution (on_issue)
        SellerApp->>BuyerApp: Rejects resolution and escalates complaint (issue)
        BuyerApp->>SellerApp: Respond with processing action (on_issue)
        BuyerApp->>SellerApp: Respond with proposed resolution (on_issue)
        SellerApp->>BuyerApp: Accepts resolution (issue)
        BuyerApp->>SellerApp: Provides resolution (on_issue)
        SellerApp->>BuyerApp: Closes the complaint (issue)


references: if any
steps:
  - summary:  Seller app raises a complaint for policy category
    api: issue
    details:
      - description: issue
        mermaid: >-
          
        reference: if any
    example:
      value:
        $ref: "../../examples/Flow2/issue/issue1.yaml"
  - summary:   Buyer app responds with processing action
    api: on_issue
    details:
      - description: on_issue
        mermaid: >-
        
        
        
    reference: if any
    example:
      value:
        $ref: "../../examples/Flow2/on_issue/on_issue2.yaml"  
  - summary:  Buyer app responds with a proposed resolution
    api: on_issue
    details:
      - description: on_issue
        mermaid: >-
        
    reference: if any
    example:
      value:
        $ref: "../../examples/Flow2/on_issue/on_issue3.yaml" 
  - summary:  Seller app accepts the resolution proposed
    api: issue
    details:
      - description: issue
        mermaid: >-
         
          
    reference: if any
    example:
      value:
        $ref: "../../examples/Flow2/issue/issue4.yaml"    
  - summary: Buyer app provides the resolution
    api: on_issue
    details:
      - description: on_issue
        mermaid: >-
           
    reference: if any
    example:
      value:
        $ref: "../../examples/Flow2/on_issue/on_issue5.yaml"              
  - summary:  Seller app escalates the complaint
    api: issue
    details:
      - description: issue
        mermaid: >-
         
    reference: if any
    example:
      value:
        $ref: "../../examples/Flow2/issue/issue6.yaml"              
  - summary: Buyer app responds with processing action
    api: on_issue
    details:
      - description: on_issue

          
          
    reference: if any
    example:
      value:
        $ref: "../../examples/Flow2/on_issue/on_issue7.yaml"  
  - summary: Buyer app responds with a proposed resolution
    api: on_issue
    details:
      - description: on_issue
        mermaid: >-
         
    reference: if any
    example:
      value:
        $ref: "../../examples/Flow2/on_issue/on_issue8.yaml"              
  - summary: Seller app accepts the resolution
    api: issue
    details:
      - description: issue
        mermaid: >-
        
    reference: if any
    example:
      value:
        $ref: "../../examples/Flow2/issue/issue9.yaml" 
  - summary:  Buyer app provides the resolution
    api: on_issue
    details:
      - description: on_issue
        mermaid: >-
           
           
    reference: if any
    example:
      value:
        $ref: "../../examples/Flow2/on_issue/on_issue10.yaml"  
  - summary:  Seller app closes the complaint
    api: issue
    details:
      - description: issue
        mermaid: >-
         
    reference: if any
    example:
      value:
        $ref: "../../examples/Flow2/issue/issue11.yaml"              
  